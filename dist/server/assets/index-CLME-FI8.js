import{jsxs as s,jsx as e}from"react/jsx-runtime";import{Link as a}from"react-router";import{useRouteContext as m}from"@fastify/react/client";import{useState as p,useEffect as u}from"react";const f="data:image/svg+xml,%3csvg%20width='820'%20height='530'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3ctitle%3eDrawing%3c/title%3e%3cdefs%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20y2='344'%20x2='235'%20y1='32.9999'%20x1='6.00017'%20id='svg_12'%3e%3cstop%20id='svg_19'%20stop-color='%2341D1FF'/%3e%3cstop%20id='svg_18'%20stop-color='%23BD34FE'%20offset='1'/%3e%3c/linearGradient%3e%3clinearGradient%20gradientUnits='userSpaceOnUse'%20y2='292.98901'%20x2='236.076'%20y1='8.81818'%20x1='194.651'%20id='svg_13'%3e%3cstop%20id='svg_17'%20stop-color='%23FFEA83'/%3e%3cstop%20id='svg_16'%20stop-color='%23FFDD35'%20offset='0.08333'/%3e%3cstop%20id='svg_15'%20stop-color='%23FFA800'%20offset='1'/%3e%3c/linearGradient%3e%3clinearGradient%20gradientTransform='matrix(1,0,0,1,1048.9863586425781,561.2677993774414)'%20href='%23svg_13'%20xlink:href='%23svg_13'%20id='svg_8'%20x1='5046.1777'%20y1='1111.5657'%20x2='5299.5317'%20y2='1111.5657'%20gradientUnits='userSpaceOnUse'/%3e%3clinearGradient%20href='%23svg_13'%20gradientUnits='userSpaceOnUse'%20y2='1111.5657'%20x2='5299.5317'%20y1='1111.5657'%20x1='5046.1777'%20id='svg_6'%20xlink:href='%23svg_13'%20gradientTransform='matrix(1,0,0,1,1114.9862976074219,349.2677993774414)'/%3e%3clinearGradient%20href='%23svg_13'%20gradientTransform='matrix(1,0,0,1,1300.9864196777344,507.2677993774414)'%20xlink:href='%23svg_13'%20id='svg_4'%20x1='5046.1777'%20y1='1111.5657'%20x2='5299.5317'%20y2='1111.5657'%20gradientUnits='userSpaceOnUse'/%3e%3clinearGradient%20gradientTransform='matrix(1,0,0,1,1048.9863586425781,561.2677993774414)'%20href='%23svg_12'%20xlink:href='%23svg_12'%20id='svg_10'%20gradientUnits='userSpaceOnUse'%20x1='3632'%20y1='1036.1555'%20x2='6700'%20y2='1036.1555'/%3e%3c/defs%3e%3cg%20id='Layer_1'%3e%3ctitle%3eLayer%201%3c/title%3e%3cg%20stroke='null'%3e%3cmetadata%20stroke='null'%20id='svg_20'%3eimage/svg+xml%3c/metadata%3e%3cg%20stroke='null'%20id='svg_2'%20transform='matrix(0.259581%200%200%200.259581%20-1203.29%20-145.254)'%3e%3cpath%20stroke='null'%20fill='url(%23svg_10)'%20d='m7651.98636,893.2678l97,-250l-4,-16l-956,252c102,-148%2067,-266%2067,-266c0,0%20-305,195%20-536,190c-231,-5%20-305,-67%20-659,46c-354,113%20-454,459%20-557,534c-102,74%20-423,321%20-423,321l290,-93c0,0%20-82,78%20-251,305l0,1c27,38%20146,195%20264,161c13,-4%2028,-11%2045,-19c53,30%20124,59%20201,67c0,0%20-52,-60%20-96,-130l36,-23l-6,4l111,40l-12,-104l1,0l108,40l-13,-95l41,-20l113,-428l468,-320l-37,94c-95,233%20-273,288%20-273,288l-74,29c-56,65%20-79,81%20-98,301c45,-12%2087,-14%20126,-4c200,54%20269,295%20215,362c-13,16%20-45,45%20-86,78l-81,0l-1,66l-8,7l-83,0l-1,64l-22,16c-77,2%20-176,-66%20-176,-66c1,62%2052,157%2052,157l9,-5l-8,6c0,0%20208,138%20339,87c116,-46%20417,-283%20677,-395l786,-208l104,-268l-599,158l0,-242l703,-185l104,-269l-807,213l0,-241l910,-240zm-1427,511l187,-49l2,9l-58,151l-193,51l62,-162zm64,323l-193,51l63,-162l186,-49l3,9l-59,151zm252,-54l-193,51l63,-162l186,-49l3,9l-59,151z'%20id='svg_9'/%3e%3cpath%20stroke='null'%20stroke-width='1px'%20fill='url(%23svg_8)'%20id='svg_7'%20d='m6158.98636,1616.2678l186,-49l3,9l-59,151l-193,51l63,-162z'/%3e%3cpath%20stroke='null'%20stroke-width='1px'%20fill='url(%23svg_6)'%20d='m6224.98636,1404.2678l186,-49l3,9l-59,151.00002l-193,50.99998l63,-162z'%20id='svg_5'/%3e%3cpath%20stroke='null'%20stroke-width='1px'%20fill='url(%23svg_4)'%20id='svg_3'%20d='m6410.98636,1562.2678l186,-49.00002l3,9l-59,151.00002l-193,51l63,-162z'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/svg%3e";function _(){return{title:"Welcome to @fastify/react!"}}function b(){var c,d;const{snapshot:r,state:i}=m(),[n,o]=p("");r.initialized||(i.message="Task Management App",i.tasks=[],i.loading=!0,i.error=null,i.initialized=!0),u(()=>{var l;((l=r.tasks)==null?void 0:l.length)>0||r.loading===!1||fetch("/api/tasks").then(t=>{if(!t.ok)throw new Error("API request failed");return t.json()}).then(t=>{i.tasks=t,i.loading=!1}).catch(t=>{console.error("Failed to fetch tasks:",t),i.error="Failed to load tasks",i.loading=!1})},[r.initialized]);const g=async l=>{if(l.preventDefault(),!!n.trim())try{const t=await fetch("/api/tasks",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:n})});t.ok&&(i.tasks=await t.json(),o(""))}catch(t){console.error("Failed to add task:",t)}},h=async l=>{try{const t=await fetch("/api/tasks",{method:"DELETE",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:l})});t.ok&&(i.tasks=await t.json())}catch(t){console.error("Failed to delete task:",t)}};return s("div",{className:"max-w-4xl mx-auto p-4",children:[e("img",{src:f,className:"mx-auto h-24 mb-4"}),e("h1",{className:"text-2xl font-bold text-center mb-6",children:r.message}),s("form",{onSubmit:g,className:"mb-8 flex gap-2",children:[e("input",{type:"text",value:n,onChange:l=>o(l.target.value),placeholder:"Add a new task...",className:"flex-1 p-2 border rounded"}),e("button",{type:"submit",className:"bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700",children:"Add Task"})]}),s("div",{className:"mb-8",children:[e("h2",{className:"text-xl font-semibold mb-4",children:"Your Tasks"}),r.loading?e("p",{children:"Loading tasks..."}):r.error?e("p",{className:"text-red-500",children:r.error}):((c=r.tasks)==null?void 0:c.length)===0?e("p",{children:"No tasks yet. Add one above!"}):e("ul",{className:"space-y-2",children:(d=r.tasks)==null?void 0:d.map(l=>s("li",{className:"flex items-center justify-between p-3 border rounded",children:[e("span",{className:l.completed?"line-through text-gray-500":"",children:l.title}),e("button",{onClick:()=>h(l.id),className:"text-red-600 hover:text-red-800",children:"Delete"})]},l.id))})]}),s("div",{className:"mt-8 pt-6 border-t",children:[e("h2",{className:"text-lg font-semibold mb-2",children:"Other Examples"}),s("ul",{className:"columns-2 list-disc list-inside",children:[s("li",{children:[e(a,{to:"/using-data",children:"/using-data"})," — isomorphic data fetching"]}),s("li",{children:[e(a,{to:"/using-store",children:"/using-store"})," — integrated ",e("a",{href:"https://github.com/pmndrs/valtio",children:"Valtio"})," store"]}),s("li",{children:[e(a,{to:"/using-auth",children:"/using-auth"})," — ",e("b",{children:"custom layout"})]}),s("li",{children:[e(a,{to:"/form/123",children:"/form/123"})," — ",e("code",{children:"POST"})," to dynamic route"]}),s("li",{children:[e(a,{to:"/actions/data",children:"/actions/data"})," — inline ",e("code",{children:"GET"})," handler"]}),s("li",{children:[e(a,{to:"/streaming",children:"/streaming"})," — ",e("b",{children:"streaming"})," SSR"]})]})]})]})}export{b as default,_ as getMeta};
