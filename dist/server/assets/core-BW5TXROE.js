import"react/jsx-runtime";import"react";import{useRouteContext as c}from"@fastify/react/client";import"./layouts-BUDTUjYa.js";const d=new Map;function i(r,s={},t=d){var a,u;const e=t.get(r);if(e){if(e.error||((a=e.data)==null?void 0:a.statusCode)===500)throw((u=e.data)==null?void 0:u.statusCode)===500?new Error(e.data.message):e.error;if(e.suspended)throw e.promise;return t.delete(r),e.data}const o={suspended:!0,error:null,data:null,promise:null};return o.promise=fetch(r,s).then(n=>n.json()).then(n=>{o.data=n}).catch(n=>{o.error=n}).finally(()=>{o.suspended=!1}),t.set(r,o),i(r,s,t)}let l=0;function v(r){return`/-/action/${l++}`}function C(r,s={}){{const{req:t,server:e}=c();return t.route.actionData[r]=i(`${e.serverURL}${r}`,s,t.fetchMap),t.route.actionData[r]}}export{v as c,C as u};
