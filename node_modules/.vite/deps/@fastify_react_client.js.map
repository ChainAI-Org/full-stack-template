{
  "version": 3,
  "sources": ["../../@fastify/react/client.js"],
  "sourcesContent": ["import { createContext, useContext, lazy } from 'react'\nimport { useSnapshot } from 'valtio'\n\nexport const RouteContext = createContext({})\nexport const isServer = typeof window === 'undefined' && typeof process === 'object'\n\nexport function useRouteContext() {\n  const routeContext = useContext(RouteContext)\n  if (routeContext.state) {\n    routeContext.snapshot = isServer\n      ? routeContext.state ?? {}\n      : useSnapshot(routeContext.state ?? {})\n  }\n  return routeContext\n}\n\nexport async function hydrateRoutes (fromInput) {\n  let from = fromInput\n  if (Array.isArray(from)) {\n    from = Object.fromEntries(\n      from.map((route) => [route.path, route]),\n    )\n  }\n  return window.routes.map((route) => {\n    route.loader = memoImport(from[route.id])\n    route.component = lazy(() => route.loader())\n    return route\n  })\n}\n\nfunction memoImport (func) {\n  // Otherwise we get a ReferenceError, but since this function\n  // is only ran once for each route, there's no overhead\n  const kFuncExecuted = Symbol('kFuncExecuted')\n  const kFuncValue = Symbol('kFuncValue')\n  func[kFuncExecuted] = false\n  return async () => {\n    if (!func[kFuncExecuted]) {\n      func[kFuncValue] = await func()\n      func[kFuncExecuted] = true\n    }\n    return func[kFuncValue]\n  }\n}\n"],
  "mappings": ";;;;;;;;;;;AAAA,mBAAgD;AAGzC,IAAM,mBAAe,4BAAc,CAAC,CAAC;AACrC,IAAM,WAAW,OAAO,WAAW,eAAe,OAAO,YAAY;AAErE,SAAS,kBAAkB;AAChC,QAAM,mBAAe,yBAAW,YAAY;AAC5C,MAAI,aAAa,OAAO;AACtB,iBAAa,WAAW,WACpB,aAAa,SAAS,CAAC,IACvB,YAAY,aAAa,SAAS,CAAC,CAAC;AAAA,EAC1C;AACA,SAAO;AACT;AAEA,eAAsB,cAAe,WAAW;AAC9C,MAAI,OAAO;AACX,MAAI,MAAM,QAAQ,IAAI,GAAG;AACvB,WAAO,OAAO;AAAA,MACZ,KAAK,IAAI,CAAC,UAAU,CAAC,MAAM,MAAM,KAAK,CAAC;AAAA,IACzC;AAAA,EACF;AACA,SAAO,OAAO,OAAO,IAAI,CAAC,UAAU;AAClC,UAAM,SAAS,WAAW,KAAK,MAAM,EAAE,CAAC;AACxC,UAAM,gBAAY,mBAAK,MAAM,MAAM,OAAO,CAAC;AAC3C,WAAO;AAAA,EACT,CAAC;AACH;AAEA,SAAS,WAAY,MAAM;AAGzB,QAAM,gBAAgB,OAAO,eAAe;AAC5C,QAAM,aAAa,OAAO,YAAY;AACtC,OAAK,aAAa,IAAI;AACtB,SAAO,YAAY;AACjB,QAAI,CAAC,KAAK,aAAa,GAAG;AACxB,WAAK,UAAU,IAAI,MAAM,KAAK;AAC9B,WAAK,aAAa,IAAI;AAAA,IACxB;AACA,WAAO,KAAK,UAAU;AAAA,EACxB;AACF;",
  "names": []
}
